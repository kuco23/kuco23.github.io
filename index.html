<!DOCTYPE HTML>
<html lang='en'>

<head>
  <title>kuco23.github.io/me</title>
  <meta name='viewport' content='width=device-width, initial-scale=1.0' charset='utf-8' />
  <meta name="color-scheme" content="light only" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@300&family=Source+Code+Pro:ital,wght@0,300;1,300&display=swap" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<style>

  /* ***************************** winking eyes ***************************** */
  * { box-sizing: border-box; }
  :root { color-scheme: light only; }
  a { text-decoration: none; color: orange; }

  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    color: white;
    background-color: black;
  }

  div.side-artistic {
    float: left;
    height: 100%;
    width: 50%;
    background-color: black;
    border-right: 2px solid #0a0d15;
  }
  div.side-formal {
    float: right;
    height: 100%;
    width: 50%;
    background-color:#0b0f1a;
    border-left: 2px solid black;
    font-family: 'Montserrat Alternates';
  }
  div.side-artistic-inner, div.side-formal-inner {
    position: relative;
    transform: none;
    display: flex;
    flex-flow: column wrap;
    justify-content: center;
    align-items: center;
    height: 100%;
    width: 100%;
  }

  #my-name {
    margin-top: 25px;
    font-family: 'Source Code Pro', cursive;
    font-size: 27px;
    color: #fffffc;
    cursor: default;
  }
  #right-pupil, #left-pupil {
    stroke-width: 2px;
    transition: stroke 2s;
  }
  #right-pupil:hover, #left-pupil:hover {
    stroke: orange;
  }

  #bio, #template-bio {
    width: 85%;
    position: absolute;
  }
  #template-bio {
    visibility: hidden;
    z-index: -1;
  }

  #icon-links {
    width: 100%;
    text-align: center;
  }
  #icon-links a {
    margin-left: 10px;
    margin-right: 10px;
  }
  #icon-links a > i {
    transition: color 1s;
    font-size: 30px;
    color: orange;
  }
  #icon-links a:hover > i { cursor: pointer; }
  #github:hover > i { color: #ffffff; }
  #linkedin:hover > i { color: #0072b1; }
  #medium:hover > i { color: #ffffff; }
  #ethereum:hover > i { color: #c99d66; }

  @media only screen and (max-width: 600px) {
    div.side-artistic, div.side-formal { width: 100%; border: none; }
    div.side-artistic {border-bottom: 2px solid#0c111d;}
    div.side-formal { border-top: 2px solid black; }
    div.side-artistic-inner, div.side-formal-inner { width: 100%; }
  }

  /* ***************************** winking eyes ***************************** */
  @keyframes wink {
    0% {opacity: 0;}
    5% {opacity: 1;}
  }
  @-webkit-keyframes wink {
    0% {opacity: 0;}
    5% {opacity: 1;}
  }
  .eyes-open circle, ellipse { animation: wink 10s steps(1) infinite normal; }
  .eyes-closed line { opacity: none; z-index: -1; }
  /* ***************************** winking eyes ***************************** */

  /* ******************** initial letter rotation ******************* */
  #my-name span {
    display: inline-block;
    transform-origin: center;
    -webkit-transform-origin: center;
  }
  #my-name span:nth-child(1) { transform: rotateZ(-25deg); -webkit-transform: rotateZ(-25deg); }
  #my-name span:nth-child(2) { transform: rotateZ(15deg); -webkit-transform: rotateZ(15deg); }
  #my-name span:nth-child(3) { transform: rotateZ(-10deg); -webkit-transform: rotateZ(-10deg); }
  #my-name span:nth-child(4) { transform: rotateZ(23deg); -webkit-transform: rotateZ(23deg); }
  #my-name span:nth-child(5) { transform: rotateZ(-13deg); -webkit-transform: rotateZ(-13deg); }
  #my-name span:nth-child(6) { transform: rotateZ(3deg); -webkit-transform: rotateZ(3deg); }
  #my-name span:nth-child(7) { transform: rotateZ(-16deg); -webkit-transform: rotateZ(-16deg); }
  #my-name span:nth-child(8) { transform: rotateZ(-5deg); -webkit-transform: rotateZ(-5deg); }
  #my-name span:nth-child(9) { transform: rotateZ(10deg); -webkit-transform: rotateZ(10deg); }
  #my-name span:nth-child(10) { transform: rotateZ(23deg); -webkit-transform: rotateZ(23deg); }
  #my-name span:nth-child(11) { transform: rotateZ(-5deg); -webkit-transform: rotateZ(-5deg); }
  #my-name span:nth-child(12) { transform: rotateZ(-18deg); -webkit-transform: rotateZ(-18deg); }
  /********************* initial letter rotation ********************/

  /* ******************** derotate letters *********************/
  @-webkit-keyframes rotate {
    100% {
      -webkit-transform: rotateZ(0deg);
    }
  }
  @keyframes rotate {
    100% {
      transform: rotateZ(0deg);
    }
  }
  .rotateAlign span {
    display: inline-block;
    animation-name: rotate; -webkit-animation-name: rotate;
    animation-iteration-count: 1; -webkit-animation-iteration-count: 1;
    animation-fill-mode: forwards; -webkit-animation-fill-mode: forwards;
  }
  .rotateAlign span:nth-child(odd) {
    transform-origin: left; -webkit-transform-origin: left;
    animation-duration: 3s; -webkit-animation-duration: 3s;
  }
  .rotateAlign span:nth-child(even) {
    transform-origin: right; -webkit-transform-origin: right;
    animation-duration: 4s; -webkit-animation-duration: 4s;
  }
  /* ******************** derotate letters *********************/

</style>

<script>

  // possible links to forward user to
  const eyeLinks = {
    left: [
      "https://www.youtube.com/watch?v=XQiQYQT3V4M",
      "https://www.youtube.com/watch?v=l2G_b0tcUYc",
      "https://www.youtube.com/watch?v=JLUFIwiJafY"

    ],
    right: [
    "https://github.com/kuco23/FAsset-Liquidator"
    ]
  }

  // send one eth with metamask
  const sendEth = async () => {
    try {
      const accounts = await ethereum.request({
        method: 'eth_requestAccounts'
      })
      await ethereum.request({
        method: 'eth_sendTransaction',
        params: [{
          to: '0xe34BDff68a5b89216D7f6021c1AB25c012142425',
          from: ethereum.selectedAddress,
          value: (5e15).toString(16)
        }]
      })
    } catch (e) {
      console.log(e)
    }
  }
  // if metamask not installed, open metamask website,
  // otherwise construct eth donation transaction
  const onEthClick = () => {
    if (ethereum === undefined || ethereum.request === undefined) {
      window.open('https://metamask.io/', '_blank')
    } else {
      sendEth()
    }
  }

  $(window).on("load", function() {

    // make space reserved for bio generation have same height as template
    const matchBioHeightWithUnderlying = () =>
      $('#bio').height($('#template-bio').outerHeight())
    $('#template-bio').ready(matchBioHeightWithUnderlying)
    $(window).resize(matchBioHeightWithUnderlying)

    // on content click force-finish bio generation
    const finishBioGeneration = () => {
      $('#bio').html($('#template-bio').html())
      $('#my-name').addClass('rotateAlign')
    }
    $('#bio').on('click', finishBioGeneration)

    // on eye click choose a link to forward to
    for (const side of ['left', 'right']) {
      $(`#${side}-pupil-link`).on('click', () => {
        const index = Math.floor(Math.random() * eyeLinks[side].length)
        window.open(eyeLinks[side][index], '_blank')
      })
    }

    // generate bio
    const bio = $('#template-bio')[0].innerHTML
    const compiledBio = $('#compiled-bio')
    const verbatimBio = $('#verbatim-bio')
    let compiled = ''
    let verbatim = ''
    let compile = false
    let index = 0

    function animateBioGeneration() {
      const symbol = bio[index++]
      if (index >= bio.length) {
        return finishBioGeneration()
      } else if (compile && symbol == '>') {
        compiled += verbatim + symbol
        compiledBio.html(compiled)
        verbatim = ''
        verbatimBio.text('')
        compile = false
      } else {
        if (!compile && symbol == '<' && (bio[index] == '/' || bio[index] == 'b')) {
          compile = true
        }
        verbatim += symbol
        verbatimBio.append(symbol)
      }
      requestAnimationFrame(animateBioGeneration)
    }
    requestAnimationFrame(animateBioGeneration)

    // make pupils follow the mouse
    const alpha = 0.015
    const vecadd = (x, y) => [x[0] + y[0], x[1] + y[1]]
    const fromatob = (a, b) => [b[0] - a[0], b[1] - a[1]]
    const norm = x => Math.pow(Math.pow(x[0], 2) + Math.pow(x[1], 2), 0.5)
    const stretch = (x, alpha) => [alpha * x[0], alpha * x[1]]

    const irisRadius = 20
    const corneaRadius = 14
    const pupilRadius = 8
    const svgoffset = Object.values($('svg.eyes-svg').offset()).reverse()

    const leftIris = document.getElementById('left-iris')
    const rightIris = document.getElementById('right-iris')
    const leftPupil = document.getElementById('left-pupil')
    const rightPupil = document.getElementById('right-pupil')

    const leftPupilCoord = [
      Number(leftPupil.getAttribute('cx')),
      Number(leftPupil.getAttribute('cy'))
    ]
    const rightPupilCoord = [
      Number(rightPupil.getAttribute('cx')),
      Number(rightPupil.getAttribute('cy'))
    ]
    const leftPupilCenter = vecadd(svgoffset, leftPupilCoord)
    const rightPupilCenter = vecadd(svgoffset, rightPupilCoord)

    document.onmousemove = event => {
      const eventvec = [event.pageX, event.pageY]
      const lsight = fromatob(leftPupilCenter, eventvec)
      const rsight = fromatob(rightPupilCenter, eventvec)
      const ldist = norm(lsight)
      const rdist = norm(rsight)
      const lsightnormed = (ldist != 0) ? stretch(lsight, 1 / ldist) : [0, 0]
      const rsightnormed = (rdist != 0) ? stretch(rsight, 1 / rdist) : [0, 0]

      const dl = (ldist*alpha <= corneaRadius - pupilRadius) ?
        stretch(lsightnormed, alpha * ldist) :
        stretch(lsightnormed, corneaRadius - pupilRadius)
      const dr = (rdist*alpha <= corneaRadius - pupilRadius) ?
        stretch(rsightnormed, alpha * rdist) :
        stretch(rsightnormed, corneaRadius - pupilRadius)

      const [lx, ly] = vecadd(leftPupilCoord, dl)
      const [rx, ry] = vecadd(rightPupilCoord, dr)
      leftPupil.setAttribute('cx', String(lx))
      leftPupil.setAttribute('cy', String(ly))
      rightPupil.setAttribute('cx', String(rx))
      rightPupil.setAttribute('cy', String(ry))
    }

  })

</script>

<body>

  <div class='side-artistic'>
    <div class='side-artistic-inner'>

      <svg class='eyes-svg' width="200" height="50">
        <g class='eyes-closed'>
          <line x1='35' y1='25' x2='75' y2='25' stroke='white' stroke-width='3' />
          <line x1='125' y1='25' x2='165' y2='25' stroke='white' stroke-width='3' />
        </g>
        <g class='eyes-open'>
          <g id='left-eye'>
            <circle id='left-iris' cx='55' cy='25' r='20' fill='white' />
            <circle cx='55' cy='25' r='14' fill='#2874a6' />
            <a id="left-pupil-link" target="_blank">
              <circle id='left-pupil' cx='55' cy='25' r='8' fill='black' />
            </a>
          </g>
          <g id='right-eye'>
            <circle id='right-iris' cx='145' cy='25' r='20' fill='white' />
            <circle cx='145' cy='25' r='14' fill='#2874a6' />
            <a id="right-pupil-link" target="_blank">
              <circle id='right-pupil' cx='145' cy='25' r='8' fill='black' />
            </a>
          </g>
        </g>
      </svg>

      <div id='my-name'>
        <span>N</span><span>e</span><span>j</span><span>c</span>
        <span>Š</span><span>e</span><span>v</span><span>e</span><span>r</span><span>k</span><span>a</span><span>r</span>
      </div>

    </div>
  </div>

  <div class='side-formal'>
    <div class='side-formal-inner'>

      <div id='bio'>
        <span id='compiled-bio'></span><span id='verbatim-bio'></span>
      </div>
      <div id='template-bio'>
        Hi, my name is Nejc and I'm a developer based in Slovenia interested in cryptography and decentralization.
        I hold a Bachelor's degree in Financial Mathematics and a Master's degree in Pure Mathematics,
        both from the University of Ljubljana, <a href="https://www.fmf.uni-lj.si/">Faculty of Mathematics and Physics</a>.
        <br><br>
        Currently, I am working as a full-time developer at <a href="https://abelium.com/">Abelium</a>,
        where I am part of the team working on the <a href="https://flare.network/">Flare network</a>.
        Additionally, I am also a part-time teaching assistant at my faculty.
        <br><br>
        <div id="icon-links">
          <a id="github" href="https://github.com/kuco23" target="_blank">
            <i class="fa-brands fa-github"></i>
          </a>
          <a id="linkedin" href="https://linkedin.com/in/nejc-ševerkar-484b95234" target="_blank">
            <i class="fa-brands fa-linkedin"></i>
          </a>
          <a id="medium" href="https://medium.com/@nseverkar" target="_blank">
            <i class="fa-brands fa-medium"></i>
          </a>
          <a id="ethereum" href="javascript:;" onclick="onEthClick();" title="donate .005 ETH through MetaMask">
            <i class="fa-brands fa-ethereum"></i>
          </a>
        </div>
      </div>

    </div>
  </div>

</body>
</html>
